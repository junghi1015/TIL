## JWT(JSON Web Token)란?

> 인공지능 교육과정을 들을 때도 그렇고 웹 서비스 개발을 몇 차례 진행하면서 가장 기본이 되는 기능들이 있었다. 바로 회원관리 부분이다. 이전에는 간단하게 암호화 복호화정도만 진행을 했었는데(사실 기능 구현이 최우선 목표였기 때문에..) PC 카카오톡을 만들어보면서 느끼는 점은 회원정보와 대조하고 필요한 데이터를 입력하고 불러오는 상황이 상당히 빈번하게 일어나는 것을 깨닫고 말로만 들었던 토큰을 한번 사용하고 공부하고자 이렇게 정리하게 되었다.



* **JWT(JSON Web Token)** : 속성 정보를 JSON 데이터 구조로 표현한 토큰
* 서버와 클라이언트 간 정보를 주고 받을 때 HTTP request Header(요청 헤더)에 JSON 토큰을 넣어서 요청하면, 서버는 별도의 인증 과정없이 헤더에 포함되어 있는 토큰을 통해 인증을 진행할 수 있다.
* JWT는 HMAC 알고리즘을 사용하여 비밀키 또는 RSA를 이용한 공개키/비밀키 쌍으로 서명할 수 있다.



___



![화면 캡처 2021-05-25 184531](https://user-images.githubusercontent.com/69712761/119476907-766dab00-bd89-11eb-8dee-0bac7680b828.png)

### Header

Token의 타입(jwt, jws 등)과 해시 암호와 알고리즘으로 구성된다.

Base64Url로 되어있지만 실제 데이터는 JSON 형태로 되어 있다.



### Payload

토큰에 담을 claim 정보(사용자 정보)를 포함한다.

Payload에 담는 정보의 한 조각을 클라임이라 하며, key / value의 한 쌍으로 이루어져 있다.

토큰에는 여러개의 클레임을 넣을 수 있다.



### Signature

secret key를 포함해 암호화 되어있다.

Header에 대한 Base64Url을 적용한 값과 Payload에 대한 Base64Url을 적용한 값들을 Header에 구성된 알고리즘으로 적용한 결과값으로, secret key로 암호화한다.(비밀키는 서버사이드에 존재한다.)

Header와 Payload가 변조 됐는지 검증한다.

Base64는 쉽게 디코딩이 가능하지만 secret key 때문에 payload 조작이 불가능하다.



___



### # [JWT 발급 및 검증 동작 원리]



![화면 캡처 2021-05-25 185229](https://user-images.githubusercontent.com/69712761/119477949-60141f00-bd8a-11eb-82fb-3af919206cbe.png)



___



### JWT의 장점

* 사용자 인증에 필요한 모든 정보는 토큰 자체에 포함 되어, 별도의 인증 저장소가 필요 없다.
* 분산 마이크로 서비스 환경에서 중앙 집중식 인증 서버와 DB에 의존하지 않는 쉬운 인증과 인가 방법을 제공한다.
* REST 서비스로 제공 가능하다.
* URL 파라미터와 헤더로 사용
* 수평 스케일, 디버깅 및 관리에 용이하다.
* 트래픽에 대한 부담이 낮다.
* 독립적이다.



>기본적인 개념정리는 이정도로 하고 심화공부가 많이 필요할 듯.... 또한 프로젝트에 적용하는 부분은 추후에 덧붙여야겠다..